<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Functionality Test</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .test { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
    .success { background: #d4edda; border-color: #c3e6cb; }
    .error { background: #f8d7da; border-color: #f5c6cb; }
    button { padding: 10px 20px; margin: 5px; }
    textarea { width: 100%; height: 100px; margin: 10px 0; }
  </style>
</head>
<body>
  <h1>åŠŸèƒ½æµ‹è¯•é¡µé¢</h1>
  
  <div class="test">
    <h3>æµ‹è¯•1: æ–‡æœ¬ç”ŸæˆåŠŸèƒ½</h3>
    <textarea id="test-input" placeholder="è¾“å…¥æµ‹è¯•æ–‡æœ¬...">Hello World</textarea>
    <button onclick="testGeneration()">æµ‹è¯•ç”Ÿæˆ</button>
    <div id="test-result"></div>
  </div>
  
  <div class="test">
    <h3>æµ‹è¯•2: å¤åˆ¶åŠŸèƒ½</h3>
    <button onclick="testCopy()">æµ‹è¯•å¤åˆ¶</button>
    <div id="copy-result"></div>
  </div>
  
  <div class="test">
    <h3>æµ‹è¯•3: å¤–éƒ¨è¯·æ±‚æ£€æŸ¥</h3>
    <button onclick="checkExternalRequests()">æ£€æŸ¥å¤–éƒ¨è¯·æ±‚</button>
    <div id="external-result"></div>
  </div>
  
  <script>
    // å¤åˆ¶æ ¸å¿ƒåŠŸèƒ½ä»£ç 
    const italianPhrases = [
      "Mamma mia!", "Bellissimo!", "Che bella cosa!", "Fantastico!", 
      "Perfetto!", "Incredibile!", "Meraviglioso!"
    ];
    
    const italianEmojis = ["ğŸ•", "ğŸ¤Œ", "ğŸ‡®ğŸ‡¹", "ğŸ", "â˜•", "ğŸ·", "ğŸ­"];
    
    function getRandomItem(array) {
      return array[Math.floor(Math.random() * array.length)];
    }
    
    function generateItalianText(text) {
      if (!text.trim()) return "";
      
      let result = text;
      
      if (Math.random() > 0.5) {
        result = getRandomItem(italianPhrases) + " " + result;
      }
      
      if (Math.random() > 0.5) {
        result = result + " " + getRandomItem(italianPhrases);
      }
      
      const numEmojis = Math.floor(Math.random() * 3) + 1;
      for (let i = 0; i < numEmojis; i++) {
        const emoji = getRandomItem(italianEmojis);
        const position = Math.floor(Math.random() * result.length);
        result = result.slice(0, position) + emoji + result.slice(position);
      }
      
      return result;
    }
    
    function testGeneration() {
      const input = document.getElementById('test-input').value;
      const result = generateItalianText(input);
      const resultDiv = document.getElementById('test-result');
      
      if (result) {
        resultDiv.innerHTML = `<div class="success">âœ… ç”ŸæˆæˆåŠŸ: "${result}"</div>`;
      } else {
        resultDiv.innerHTML = `<div class="error">âŒ ç”Ÿæˆå¤±è´¥</div>`;
      }
    }
    
    function testCopy() {
      const testText = "Test text for copying";
      navigator.clipboard.writeText(testText).then(function() {
        document.getElementById('copy-result').innerHTML = 
          '<div class="success">âœ… å¤åˆ¶åŠŸèƒ½æ­£å¸¸</div>';
      }).catch(function() {
        document.getElementById('copy-result').innerHTML = 
          '<div class="error">âŒ å¤åˆ¶åŠŸèƒ½å¤±è´¥</div>';
      });
    }
    
    function checkExternalRequests() {
      const scripts = document.querySelectorAll('script[src]');
      const externalScripts = Array.from(scripts).filter(script => 
        !script.src.startsWith(window.location.origin)
      );
      
      const resultDiv = document.getElementById('external-result');
      
      if (externalScripts.length === 0) {
        resultDiv.innerHTML = '<div class="success">âœ… æ²¡æœ‰å‘ç°å¤–éƒ¨è„šæœ¬è¯·æ±‚</div>';
      } else {
        resultDiv.innerHTML = `<div class="error">âŒ å‘ç° ${externalScripts.length} ä¸ªå¤–éƒ¨è„šæœ¬</div>`;
        externalScripts.forEach(script => {
          resultDiv.innerHTML += `<div>${script.src}</div>`;
        });
      }
    }
    
    // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡Œä¸€äº›æµ‹è¯•
    window.onload = function() {
      checkExternalRequests();
    };
  </script>
</body>
</html> 